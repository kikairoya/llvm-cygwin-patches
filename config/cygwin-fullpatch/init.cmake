set(STAGE1_BINDIR "$ENV{STAGE1_BINDIR}")
set(CMAKE_ASM_COMPILER "${STAGE1_BINDIR}/clang" CACHE STRING "" FORCE)
set(CMAKE_BUILD_TYPE "Release" CACHE STRING "" FORCE)
set(CMAKE_C_COMPILER "${STAGE1_BINDIR}/clang" CACHE STRING "" FORCE)
set(CMAKE_CXX_COMPILER "${STAGE1_BINDIR}/clang++" CACHE STRING "" FORCE)
set(CMAKE_INSTALL_MESSAGE "NEVER" CACHE STRING "" FORCE)
if ("${CMAKE_SOURCE_DIR}" MATCHES "/runtimes$")
  include("${CMAKE_SOURCE_DIR}/../cmake/Modules/LLVMVersion.cmake")
  set(LLVM_ENABLE_RUNTIMES "libcxx;libcxxabi;libunwind;compiler-rt" CACHE STRING "" FORCE)
else()
  set(LLVM_ENABLE_RUNTIMES "" CACHE STRING "" FORCE)
  if (IS_DIRECTORY "${CMAKE_BINARY_DIR}/../build-llvm-$ENV{BUILD_NAME}")
    set(LLVM_CMAKE_DIR "${CMAKE_BINARY_DIR}/../build-llvm-$ENV{BUILD_NAME}/lib/cmake" CACHE STRING "" FORCE)
    set(LLVM_DIR "${CMAKE_BINARY_DIR}/../build-llvm-$ENV{BUILD_NAME}" CACHE STRING "" FORCE)
    if (IS_DIRECTORY "${CMAKE_BINARY_DIR}/../build-clang-$ENV{BUILD_NAME}")
      set(Clang_DIR "${CMAKE_BINARY_DIR}/../build-clang-$ENV{BUILD_NAME}" CACHE STRING "" FORCE)
    else()
      set(Clang_DIR "${CMAKE_BINARY_DIR}/../build-llvm-$ENV{BUILD_NAME}" CACHE STRING "" FORCE)
    endif()
  else()
    set(LLVM_INSTALL_GTEST ON CACHE BOOL "" FORCE)
  endif()
endif()
set(CLANG_DEFAULT_CXX_STDLIB "libc++" CACHE STRING "" FORCE)
set(CLANG_DEFAULT_LINKER "lld" CACHE STRING "" FORCE)
#set(CLANG_DEFAULT_RTLIB "libgcc" CACHE STRING "" FORCE)
#set(CLANG_DEFAULT_UNWINDLIB "libunwind" CACHE STRING "" FORCE)
set(COMPILER_RT_INSTALL_LIBRARY_DIR "lib/clang/${LLVM_VERSION_MAJOR}/lib/cygwin" CACHE PATH "" FORCE)
set(LIBCXX_ENABLE_STATIC_ABI_LIBRARY ON CACHE BOOL "" FORCE)
set(LIBCXX_INCLUDE_BENCHMARKS OFF CACHE BOOL "" FORCE)
set(LIBCXXABI_ENABLE_STATIC_UNWINDER ON CACHE BOOL "" FORCE)
set(LIBCXXABI_ENABLE_SHARED OFF CACHE BOOL "" FORCE)
set(LIBUNWIND_ENABLE_SHARED OFF CACHE BOOL "" FORCE)
set(LLD_DEFAULT_LD_LLD_IS_MINGW ON CACHE BOOL "" FORCE)
set(LLVM_ENABLE_BINDINGS OFF CACHE BOOL "" FORCE)
set(LLVM_ENABLE_PROJECTS "" CACHE STRING "" FORCE)
set(LLVM_INCLUDE_DOCS OFF CACHE BOOL "" FORCE)
set(LLVM_INCLUDE_EXAMPLES OFF CACHE BOOL "" FORCE)
set(LLVM_INCLUDE_TESTS ON CACHE BOOL "" FORCE)
set(LLVM_INSTALL_UTILS ON CACHE BOOL "" FORCE)
set(LLVM_LINK_LLVM_DYLIB ON CACHE BOOL "" FORCE)
if ("${CMAKE_SOURCE_DIR}" MATCHES "/llvm$")
  set(LLVM_LIT_ARGS "-j1 --timeout 300 --max-time 18000 --max-retries-per-test 2" CACHE STRING "" FORCE)
else()
  set(LLVM_LIT_ARGS "--timeout 300 --max-time 18000 --max-retries-per-test 2" CACHE STRING "" FORCE)
endif()
set(LLVM_TARGETS_TO_BUILD "all" CACHE STRING "" FORCE)
