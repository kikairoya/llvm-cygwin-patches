From c2c18fa42fc5f3bc358a47eaf0110472221dda94 Mon Sep 17 00:00:00 2001
From: kikairoya <kikairoya@gmail.com>
Date: Sun, 7 Sep 2025 20:46:38 +0900
Subject: [PATCH 06/28] update test

---
 clang/test/CodeGenCXX/dllexport.cpp                | 2 +-
 clang/test/CodeGenCXX/mingw-template-dllexport.cpp | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/clang/test/CodeGenCXX/dllexport.cpp b/clang/test/CodeGenCXX/dllexport.cpp
index 894aea79af9fd5b7be8a464ab58f24f52bdebdab..2c9e7d36d2cbe59045f6572d33e5d1cb6e817aa8 100644
--- a/clang/test/CodeGenCXX/dllexport.cpp
+++ b/clang/test/CodeGenCXX/dllexport.cpp
@@ -1130,6 +1130,6 @@ public:
 class __declspec(dllexport) ACE_Service_Object : public ACE_Shared_Object {};
 // Implicit move constructor declaration.
 // MSVC2015-DAG: define weak_odr dso_local dllexport {{.+}}ACE_Service_Object@@Q{{.+}}@$$Q
+// PS-DAG: define weak_odr dllexport void @_ZN18ACE_Service_ObjectC1EOS_
 // The declarations should not be exported.
 // MSVC2013-NOT: define weak_odr dso_local dllexport {{.+}}ACE_Service_Object@@Q{{.+}}@$$Q
-// PS-NOT: define weak_odr dllexport void @_ZN18ACE_Service_ObjectC1EOS_
diff --git a/clang/test/CodeGenCXX/mingw-template-dllexport.cpp b/clang/test/CodeGenCXX/mingw-template-dllexport.cpp
index 1e2759fbb5cc7f7ed9f62ca28b84063a6974df7e..15969d2415ccae048533677a9cf884233f401cbc 100644
--- a/clang/test/CodeGenCXX/mingw-template-dllexport.cpp
+++ b/clang/test/CodeGenCXX/mingw-template-dllexport.cpp
@@ -16,7 +16,7 @@ class c {
 
 template class __declspec(dllexport) c<int>;
 
-// CHECK-NOT: define {{.*}} dllexport {{.*}} @_ZN1cIiEC1EOS0_
+// CHECK: define {{.*}} dllexport {{.*}} @_ZN1cIiEC1EOS0_
 // CHECK: define {{.*}} dllexport {{.*}} @_ZN1cIiE1fEv
 
 extern template class __declspec(dllexport) c<char>;
-- 
2.51.0

