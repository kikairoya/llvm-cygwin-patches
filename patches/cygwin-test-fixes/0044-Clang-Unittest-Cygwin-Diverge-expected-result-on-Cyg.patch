From c5829378f94b495694ddf6a42dd7efdc03af1849 Mon Sep 17 00:00:00 2001
From: kikairoya <kikairoya@gmail.com>
Date: Sat, 11 Oct 2025 17:39:03 +0900
Subject: [PATCH 44/49] [Clang][Unittest][Cygwin] Diverge expected result on
 Cygwin host

---
 clang/unittests/Interpreter/CMakeLists.txt      | 2 +-
 clang/unittests/Interpreter/InterpreterTest.cpp | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/clang/unittests/Interpreter/CMakeLists.txt b/clang/unittests/Interpreter/CMakeLists.txt
index 93813577b748dbf28b0a702bdbd120431b3c9134..f7f06bb38034850c9618182f216afdfef9f9092d 100644
--- a/clang/unittests/Interpreter/CMakeLists.txt
+++ b/clang/unittests/Interpreter/CMakeLists.txt
@@ -97,7 +97,7 @@ if ((MINGW OR CYGWIN) AND NOT (CLANG_LINK_CLANG_DYLIB OR BUILD_SHARED_LIBS))
 endif()
 
 # Exceptions on Windows are not yet supported.
-if(NOT WIN32)
+if(NOT WIN32 AND NOT CYGWIN)
   add_subdirectory(ExceptionTests)
 endif()
 
diff --git a/clang/unittests/Interpreter/InterpreterTest.cpp b/clang/unittests/Interpreter/InterpreterTest.cpp
index 9ff9092524d21bd246692555d9d3b7b7e065d1a9..55cb9e388e4e12e55d06f3928c2d7355ffdff53f 100644
--- a/clang/unittests/Interpreter/InterpreterTest.cpp
+++ b/clang/unittests/Interpreter/InterpreterTest.cpp
@@ -236,7 +236,7 @@ TEST_F(InterpreterTest, FindMangledNameSymbol) {
   EXPECT_FALSE(!Addr);
 
   // FIXME: Re-enable when we investigate the way we handle dllimports on Win.
-#ifndef _WIN32
+#if !defined(_WIN32) && !defined(__CYGWIN__)
   EXPECT_EQ((uintptr_t)&printf, Addr->getValue());
 #endif // _WIN32
 }
-- 
2.51.2

