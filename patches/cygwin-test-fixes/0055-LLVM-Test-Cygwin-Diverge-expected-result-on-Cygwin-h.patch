From 0d70818593e642dd0b1790500ec749fca782465e Mon Sep 17 00:00:00 2001
From: kikairoya <kikairoya@gmail.com>
Date: Sat, 13 Dec 2025 22:22:52 +0900
Subject: [PATCH 55/65] [LLVM][Test][Cygwin] Diverge expected result on Cygwin
 host

---
 llvm/test/Feature/load_extension.ll | 2 +-
 llvm/test/Other/can-execute.txt     | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/llvm/test/Feature/load_extension.ll b/llvm/test/Feature/load_extension.ll
index 6f99e99cb63458c9c322819f89070c985b2ea075..c57f300d277501b96c217201399c6994babd24da 100644
--- a/llvm/test/Feature/load_extension.ll
+++ b/llvm/test/Feature/load_extension.ll
@@ -5,7 +5,7 @@
 ; RUN: llvm-lto2 run %t.o %loadbye %loadnewpmbye -wave-goodbye -o %t -r %t.o,somefunk,plx -r %t.o,junk,plx 2>&1 | FileCheck %s
 ; RUN: llvm-lto2 run %t.o %loadbye %loadnewpmbye -opt-pipeline="goodbye" -wave-goodbye -o %t -r %t.o,somefunk,plx -r %t.o,junk,plx 2>&1 | FileCheck %s
 ; REQUIRES: plugins, examples
-; UNSUPPORTED: target={{.*windows.*}}
+; UNSUPPORTED: system-windows, system-cygwin
 ; Plugins are currently broken on AIX, at least in the CI.
 ; XFAIL: target={{.*}}-aix{{.*}}
 ; CHECK: Bye
diff --git a/llvm/test/Other/can-execute.txt b/llvm/test/Other/can-execute.txt
index 37626e7357b28b70283a643681a54d32652a1b39..67c9e4eb4386a2afe1632243bd301c3bc88554f7 100644
--- a/llvm/test/Other/can-execute.txt
+++ b/llvm/test/Other/can-execute.txt
@@ -1,5 +1,8 @@
 REQUIRES: can-execute
 
+## Cygwin's permission support isn't perfect
+UNSUPPORTED: system-cygwin
+
 This tests that we abstract two peculiarities of unix in can_execute:
 
 * Directories are executable, but we don't want to try to execute them.
-- 
2.52.0

